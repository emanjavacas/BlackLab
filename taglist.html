<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-08-23 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160823" />
    <meta http-equiv="Content-Language" content="en" />
    <title>BlackLab &#x2013; Tag List report</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Nunito:300"/>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/logo-blacklab.png"  alt="BlackLab"/>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.inl.nl/" id="bannerRight">
                                                                                                <img src="images/logo-inl.png"  alt="INL"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.inl.nl/" class="externalLink" title="INL">
        INL</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="BlackLab">
        BlackLab</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Tag List report</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2016-08-23</li>
              <li id="projectVersion" class="pull-right">
                    Version: 1.6.0-SNAPSHOT
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">BlackLab</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                                                                                                                                                                                                            
      <li>
  
                          <a href="learn.html" title="Learn">
          <span class="icon-chevron-down"></span>
        Learn</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="getting-started.html" title="Getting Started">
          <span class="none"></span>
        Getting Started</a>
            </li>
                    
      <li>
  
                          <a href="corpus-query-language.html" title="Corpus Query Language">
          <span class="none"></span>
        Corpus Query Language</a>
            </li>
                    
      <li>
  
                          <a href="blacklab-server-overview.html" title="BlackLab Server overview">
          <span class="none"></span>
        BlackLab Server overview</a>
            </li>
                    
      <li>
  
                          <a href="blacklab-server-different-languages.html" title="Using BlackLab Server from different languages">
          <span class="none"></span>
        Using BlackLab Server from different languages</a>
            </li>
                    
      <li>
  
                          <a href="indexing-with-blacklab.html" title="Indexing with BlackLab">
          <span class="none"></span>
        Indexing with BlackLab</a>
            </li>
                    
      <li>
  
                          <a href="add-input-format.html" title="Add An Input Format">
          <span class="none"></span>
        Add An Input Format</a>
            </li>
                    
      <li>
  
                          <a href="improve-search-speed.html" title="Improve Search Speed">
          <span class="none"></span>
        Improve Search Speed</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="API reference">
          <span class="none"></span>
        API reference</a>
            </li>
                    
      <li>
  
                          <a href="file-formats.html" title="File formats">
          <span class="none"></span>
        File formats</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="downloads.html" title="Downloads">
          <span class="none"></span>
        Downloads</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="changelog.html" title="Change Log">
          <span class="none"></span>
        Change Log</a>
            </li>
                
      <li>
  
                          <a href="roadmap.html" title="Road Map">
          <span class="none"></span>
        Road Map</a>
            </li>
                
      <li>
  
                          <a href="newsletter.html" title="Newsletter">
          <span class="none"></span>
        Newsletter</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="surefire-report.html" title="Surefire Report">
          <span class="none"></span>
        Surefire Report</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <span class="none"></span>
        FindBugs</a>
            </li>
                    
      <li>
  
                          <a href="cpd.html" title="CPD">
          <span class="none"></span>
        CPD</a>
            </li>
                    
      <li>
  
                          <a href="pmd.html" title="PMD">
          <span class="none"></span>
        PMD</a>
            </li>
                    
      <li>
  
                          <a href="checkstyle.html" title="Checkstyle">
          <span class="none"></span>
        Checkstyle</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Tag List</a>
          </li>
                    
      <li>
  
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">
          <span class="none"></span>
        Dependency Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">
          <span class="none"></span>
        Plugin Updates Report</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Tag_List_Report"></a>Tag List Report</h2>
<p>The following document contains the listing of user tags found in the code. Below is the summary of the occurrences per tag.</p>
<table border="0" class="table table-striped">
<tr class="a">
<th>Tag Class</th>
<th>Total number of occurrences</th>
<th>Tag strings used by tag class</th></tr>
<tr class="b">
<td><a href="#tag_class_1">Bug or serious issue</a></td>
<td>15</td>
<td>FIXME, hack</td></tr>
<tr class="a">
<td><a href="#tag_class_3">Possible optimization</a></td>
<td>3</td>
<td>OPT</td></tr>
<tr class="b">
<td><a href="#tag_class_2">Todo Work</a></td>
<td>25</td>
<td>todo, TO DO</td></tr></table>
<p>Each tag is detailed below:</p>
<div class="section">
<h3><a name="Bug_or_serious_issue"></a><a name="tag_class_1">Bug or serious issue</a></h3>
<p><b>Number of occurrences found in the code: 15</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.index.complex.ComplexFieldProperty</th>
<th>Line</th></tr>
<tr class="b">
<td>make TokenStreamWithOffsets work with payloads as well</td>
<td><a href="./xref/nl/inl/blacklab/index/complex/ComplexFieldProperty.html#150">150</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.DocIndexerOpenSonar</th>
<th>Line</th></tr>
<tr class="b">
<td>HACK: See if we need to substitute token-ending characters</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerOpenSonar.html#269">269</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.DocIndexerWhiteLab2</th>
<th>Line</th></tr>
<tr class="b">
<td>HACK: See if we need to substitute token-ending characters</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerWhiteLab2.html#391">391</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocResults</th>
<th>Line</th></tr>
<tr class="b">
<td>a better approach is to only read documents we're actually interested in instead of all of them; compare with Hits. even better: make DocResults abstract and provide two implementations, DocResultsFromHits and DocResultsFromQuery. IndexSearcher indexSearcher = searcher.getIndexSearcher(); IndexReader reader = indexSearcher.getIndexReader(); Weight weight = indexSearcher.createNormalizedWeight(query); Map&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;(); for (LeafReaderContext arc: reader.leaves()) { Scorer scorer = weight.scorer(arc, true, false, arc.reader().getLiveDocs()); while (scorer.nextDoc() != DocIdSetIterator.NO_MORE_DOCS) { //ddd } }</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocResults.html#191">191</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.Hit</th>
<th>Line</th></tr>
<tr class="b">
<td>option to store payload in Hit, probably using subclass</td>
<td><a href="./xref/nl/inl/blacklab/search/Hit.html#148">148</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.HitsImpl</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsImpl.html#379">379</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.TextPatternBoolean</th>
<th>Line</th></tr>
<tr class="b">
<td>rewrite clauses!</td>
<td><a href="./xref/nl/inl/blacklab/search/TextPatternBoolean.html#173">173</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.BLSpanOrQuery</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/BLSpanOrQuery.html#73">73</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQueryBase</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQueryBase.html#124">124</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQueryDocLevelAndNot</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQueryDocLevelAndNot.html#128">128</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQueryTags</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQueryTags.html#109">109</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQueryUnique</th>
<th>Line</th></tr>
<tr class="b">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQueryUnique.html#62">62</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.sequences.SpansInBucketsPerStartPoint</th>
<th>Line</th></tr>
<tr class="b">
<td>implement (optional) getPayload() here</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/SpansInBucketsPerStartPoint.html#215">215</a></td></tr>
<tr class="a">
<td>implement (optional) isPayloadAvailable() here</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/SpansInBucketsPerStartPoint.html#221">221</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.tools.debug.RunTermQuery</th>
<th>Line</th></tr>
<tr class="a">
<td>temporary extractTerms hack</td>
<td><a href="./xref/nl/inl/blacklab/tools/debug/RunTermQuery.html#256">256</a></td></tr></table></div>
<div class="section">
<h3><a name="Possible_optimization"></a><a name="tag_class_3">Possible optimization</a></h3>
<p><b>Number of occurrences found in the code: 3</b></p>
<table border="0" class="table table-striped">
<tr class="b">
<th>nl.inl.blacklab.externalstorage.ContentStoreDirUtf8</th>
<th>Line</th></tr>
<tr class="a">
<td>we could try memory-mapping the current content store file (not sure if you can grow a file in size while memory-mapped? maybe just put it at a fixed size?) for additional speed.</td>
<td><a href="./xref/nl/inl/blacklab/externalstorage/ContentStoreDirUtf8.html#483">483</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.HitsWindow</th>
<th>Line</th></tr>
<tr class="a">
<td>copy context as well..?</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsWindow.html#84">84</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.grouping.HitPropertyContextWords</th>
<th>Line</th></tr>
<tr class="a">
<td>provide specific compare() method that compares contexts in-place</td>
<td><a href="./xref/nl/inl/blacklab/search/grouping/HitPropertyContextWords.html#205">205</a></td></tr></table></div>
<div class="section">
<h3><a name="Todo_Work"></a><a name="tag_class_2">Todo Work</a></h3>
<p><b>Number of occurrences found in the code: 25</b></p>
<table border="0" class="table table-striped">
<tr class="b">
<th>nl.inl.blacklab.index.Indexer</th>
<th>Line</th></tr>
<tr class="a">
<td>InputStream version of zip, for zips inside another archive</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#679">679</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.indexers.DocIndexerTeiBase</th>
<th>Line</th></tr>
<tr class="a">
<td>remove INL-specific stuff</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerTeiBase.html#145">145</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.indexers.MetadataFetcherKbDpo</th>
<th>Line</th></tr>
<tr class="a">
<td>improve structure to avoid test-specific code</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherKbDpo.html#318">318</a></td></tr>
<tr class="b">
<td>improve error reporting</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherKbDpo.html#355">355</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherSonarCmdi</th>
<th>Line</th></tr>
<tr class="b">
<td>improve structure to avoid test-specific code</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherSonarCmdi.html#49">49</a></td></tr>
<tr class="a">
<td>make sure zip file is properly closed when done (change structure so metadata fetcher isn't instantiated for each document separately) metadataZipFile.close();</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherSonarCmdi.html#93">93</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.perdocument.DocPropertyComplexFieldLength</th>
<th>Line</th></tr>
<tr class="a">
<td>check IndexStructure.alwaysHasClosingToken() to see if we really should subtract 1</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocPropertyComplexFieldLength.html#44">44</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.HitsImpl</th>
<th>Line</th></tr>
<tr class="a">
<td>get collocations for multiple contexts?</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsImpl.html#1291">1291</a></td></tr>
<tr class="b">
<td>more efficient to get all contexts with one getContextWords() call!</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsImpl.html#1410">1410</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.Searcher</th>
<th>Line</th></tr>
<tr class="b">
<td>check with index structure?</td>
<td><a href="./xref/nl/inl/blacklab/search/Searcher.html#1150">1150</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.SearcherImpl</th>
<th>Line</th></tr>
<tr class="b">
<td>we need to create the analyzer before opening the index, because we can't change the analyzer attached to the IndexWriter (and passing a different analyzer in addDocument() is going away in Lucene 5.x). For now, if we're in index mode, we re-open the index with the analyzer we determined.</td>
<td><a href="./xref/nl/inl/blacklab/search/SearcherImpl.html#163">163</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.TermFrequencyList</th>
<th>Line</th></tr>
<tr class="b">
<td>maybe speed this up by keeping a map of tokens and frequencies?</td>
<td><a href="./xref/nl/inl/blacklab/search/TermFrequencyList.html#54">54</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.TextPatternAndNot</th>
<th>Line</th></tr>
<tr class="b">
<td>Ugly, but TPSeq derives from TPAndNot...</td>
<td><a href="./xref/nl/inl/blacklab/search/TextPatternAndNot.html#151">151</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.TextPatternRegex</th>
<th>Line</th></tr>
<tr class="b">
<td>kind of ugly to use string markers like this.. a better way is to walk through the string, detecting stuff as we go. When we detect anything that doesn't fit in a wildcard query, we know we have to use regex. Otherwise, we do the required replacements and create a wildcard query.</td>
<td><a href="./xref/nl/inl/blacklab/search/TextPatternRegex.html#91">91</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.indexstructure.IndexStructure</th>
<th>Line</th></tr>
<tr class="b">
<td>useAnnotation..?</td>
<td><a href="./xref/nl/inl/blacklab/search/indexstructure/IndexStructure.html#395">395</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.BLSpanMultiTermQueryWrapper</th>
<th>Line</th></tr>
<tr class="b">
<td>would be nice to not lose term-state here. we could add a hack option to SpanOrQuery, but the hack would only work if this is the top-level Span (if you put this thing in another span query, it would extractTerms/double-seek anyway)</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/BLSpanMultiTermQueryWrapper.html#61">61</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.BLSpanTermQuery</th>
<th>Line</th></tr>
<tr class="b">
<td>investigate FieldMaskingSpanQuery, which seems to have the same purpose. However, we need all our SpanQuery and Spans classes to be BL-derived because we need to have BL-specific methods available on them (i.e. for token tagging).</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/BLSpanTermQuery.html#40">40</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpansTags</th>
<th>Line</th></tr>
<tr class="b">
<td>what happens if two of the same starttags occur at the same position..? Right now, we assume this doesn't happen, and it usually doesn't, but if it does, can it cause a mismatched tag problem?</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpansTags.html#276">276</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.sequences.SpansExpansionRaw</th>
<th>Line</th></tr>
<tr class="b">
<td>cache this in Searcher..?</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/SpansExpansionRaw.html#95">95</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.sequences.SpansFilterNGramsRaw</th>
<th>Line</th></tr>
<tr class="b">
<td>cache this in Searcher..?</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/SpansFilterNGramsRaw.html#94">94</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.tools.SketchToXmlConverter</th>
<th>Line</th></tr>
<tr class="b">
<td>FileNotFoundException?</td>
<td><a href="./xref/nl/inl/blacklab/tools/SketchToXmlConverter.html#67">67</a></td></tr>
<tr class="a">
<th>nl.inl.util.StringUtil</th>
<th>Line</th></tr>
<tr class="b">
<td>eliminate Latin char assumption; define static Pattern</td>
<td><a href="./xref/nl/inl/util/StringUtil.html#176">176</a></td></tr>
<tr class="a">
<td>define static Patterns for these</td>
<td><a href="./xref/nl/inl/util/StringUtil.html#540">540</a></td></tr>
<tr class="b">
<th>nl.inl.util.Timer</th>
<th>Line</th></tr>
<tr class="a">
<td>why only elapsed time? Generalise to describe any supplied interval.</td>
<td><a href="./xref/nl/inl/util/Timer.html#51">51</a></td></tr>
<tr class="b">
<th>nl.inl.util.UtilsForTesting</th>
<th>Line</th></tr>
<tr class="a">
<td>move to InlJavaLib (deprecate/remove here)</td>
<td><a href="./xref-test/nl/inl/util/UtilsForTesting.html#27">27</a></td></tr></table></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2016
                        <a href="http://www.inl.nl">Instituut voor Nederlandse Taal (INT)</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
